<nav
  class="navbar navbar-expand-lg navbar-transparent navbar-absolute bg-primary fixed-top"
  [class.navbar-transparent]="isCollapsed"
>
  <div class="container-fluid">
    <div class="navbar-wrapper">
      <button
        class="navbar-toggler navbar-toggler-sidebar"
        [class.toggled]="toggleButton"
        type="button"
        (click)="sidebarToggle()"
      >
        <span class="navbar-toggler-bar bar1"></span>
        <span class="navbar-toggler-bar bar2"></span>
        <span class="navbar-toggler-bar bar3"></span>
      </button>
      <a class="navbar-brand">
        {{ currentPage }}
      </a>
    </div>

    <button
      class="navbar-toggler"
      type="button"
      (click)="isCollapsed = !isCollapsed"
      [attr.aria-expanded]="!isCollapsed"
      aria-controls="collapseExample"
    >
      <span class="navbar-toggler-bar navbar-kebab"></span>
      <span class="navbar-toggler-bar navbar-kebab"></span>
      <span class="navbar-toggler-bar navbar-kebab"></span>
    </button>

    <div
      *ngIf="currentUser"
      class="collapse navbar-collapse justify-content-end"
      id="collapseExample"
      [ngbCollapse]="isCollapsed"
    >
      <ng-content select="[navBarHeader]"></ng-content>

      <ul class="navbar-nav">
        <li class="nav-item allow-change-profile-{{ allowChangeProfile }}">
          <a (click)="profile()" class="nav-link d-flex justify-content-between align-items-start p-0">
            <div class="d-inline-block mx-1 text-end">
              <div class="mb-0 text-sm font-weight-bold">{{ currentUser.name }}</div>
              <div class="small">{{ currentUser.role.name }}</div>
            </div>
            <img
              class="d-inline-block mt-2 user-image"
              [src]="currentUser.photo | jfHasXFile : 35 : 0 : '?rCountry=' + labels.k.entityGlobalV"
              alt="."
            />
          </a>
        </li>
        <li class="nav-item">
          <a (click)="onLogOut()" class="nav-link">
            <i class="fas fa-sign-out-alt"></i>
            <p><span class="d-lg-none d-md-block">Cerrar sesi√≥n</span></p>
          </a>
        </li>
        <li class="nav-item" ngbDropdown *ngIf="currentUser.roles.length > 1">
          <a class="nav-link" id="dropdownBasic1" ngbDropdownToggle>
            <i class="fas fa-cog"></i>
            <p><span class="d-lg-none d-md-block">- -</span></p>
          </a>
          <div class="dropdown-menu dropdown-menu-right" ngbDropdownMenu aria-labelledby="dropdownBasic1">
            <button
              class="dropdown-item btn btn-link"
              *ngFor="let role of currentUser.roles"
              (click)="onChangeRole(role)"
            >
              {{ role.name }}
            </button>
          </div>
        </li>
      </ul>
    </div>
  </div>
</nav>
